
/* ═══ DESIGN SYSTEM ═══════════════════════════════════════════════════════ */
/* Design 2 (Minimalist) — default, vars already defined below in :root     */
/* Design 1 (Bold) — activated via html[data-design="1"]                    */

/* ── PLASTER OVERLAY ── */
#design-plaster{
  position:fixed;inset:0;z-index:9999;background:var(--bg);
  display:flex;flex-direction:column;align-items:center;justify-content:center;gap:14px;
  opacity:0;pointer-events:none;transition:opacity .2s;
}
#design-plaster.show{opacity:1;pointer-events:all}
#design-plaster .plaster-ring{
  width:32px;height:32px;border-radius:50%;
  border:2px solid var(--bg4);border-top-color:var(--acc);
  animation:spin .7s linear infinite;
}
#design-plaster .plaster-txt{font-size:12px;color:var(--txt3);letter-spacing:.06em}
@keyframes spin{to{transform:rotate(360deg)}}

/* ══ DESIGN 1: BOLD (Nunito, cards, rounded, glows) ══════════════════════ */
html[data-design="1"]{
  --font-main:'Nunito',sans-serif;
  --font-mono:'JetBrains Mono',monospace;
}
html[data-design="1"] body{font-family:'Nunito',sans-serif}
html[data-design="1"] .topbar{
  padding:16px 20px 12px;border-bottom:none;
  background:linear-gradient(var(--bg2) 80%,transparent);
}
html[data-design="1"] .topbar h1{font-size:22px!important;font-weight:900;letter-spacing:-.5px;display:block!important}
html[data-design="1"] .topbar-label{display:none!important}
html[data-design="2"] .topbar h1{display:none!important}
html[data-design="2"] .topbar-label{display:block!important}
html[data-design="1"] .topbar-btn{border-radius:50%;border:none;background:var(--bg3)}
html[data-design="1"] #nav{height:72px;justify-content:space-around;padding:0 8px}
html[data-design="1"] .nav-item{gap:4px}
html[data-design="1"] .nav-item span{font-size:10px;font-weight:700;letter-spacing:.5px}
html[data-design="1"] .nav-item svg{width:24px;height:24px}
html[data-design="1"] .nav-item.active::after{display:none}
html[data-design="1"] .nav-dot{width:4px;height:4px;border-radius:50%;background:var(--acc);margin:-2px auto 0;opacity:0;transition:opacity var(--trans)}
html[data-design="1"] .nav-item.active .nav-dot{opacity:1}
html[data-design="1"] .fab{
  width:56px;height:56px;border-radius:50%;padding:0;
  font-size:22px;font-weight:900;
  background:linear-gradient(135deg,var(--acc2),var(--acc));
  box-shadow:0 6px 20px color-mix(in srgb,var(--acc) 35%,transparent);
  bottom:88px;
}
html[data-design="1"] .rcard{
  background:var(--bg2);border-radius:16px;border:1px solid var(--bg4);
  margin:0 16px 10px;padding:14px 16px;border-bottom:none;
}
html[data-design="1"] .rcard:last-child{border:1px solid var(--bg4)}
html[data-design="1"] .rcard-icon{width:48px;height:48px;border-radius:14px;border:none;background:var(--bg3)}
html[data-design="1"] .rcard-name{font-size:15px;font-weight:700}
html[data-design="1"] .rcard-sub{font-size:12px}
html[data-design="1"] .chip{border-radius:99px;padding:4px 12px;font-size:12px;font-weight:600}
html[data-design="1"] .row{border-radius:0;padding:14px 20px}
html[data-design="1"] .sheet{border-radius:24px 24px 0 0}
html[data-design="1"] .sheet-header{border-bottom:none}
html[data-design="1"] .sheet-header h2{font-size:18px;font-weight:900}
html[data-design="1"] .sheet-close{border-radius:50%}
html[data-design="1"] .btn{border-radius:12px;font-size:15px;font-weight:700;padding:14px}
html[data-design="1"] .btn-primary{background:linear-gradient(135deg,var(--acc2),var(--acc));color:#fff}
html[data-design="1"] .form-input{border-radius:var(--rad3);font-size:15px;padding:12px 14px}
html[data-design="1"] .toggle-track::after{background:#fff}
html[data-design="1"] .app-item{padding:10px 16px;border-bottom:none}
html[data-design="1"] .app-item.selected{background:rgba(79,195,247,.08)}
html[data-design="1"] .app-icon-box{width:44px;height:44px;border-radius:12px;border:none;font-size:22px}
html[data-design="1"] .app-name{font-size:14px;font-weight:700}
html[data-design="1"] .app-check{width:22px;height:22px;border-radius:50%;border:2px solid var(--bg4)}
html[data-design="1"] .app-item.selected .app-check{background:var(--acc);border-color:var(--acc)}
html[data-design="1"] .search-wrap{border-radius:12px;margin:0 16px 8px;border:1px solid var(--bg4)}
html[data-design="1"] .step-dot{height:3px;border-radius:99px}
html[data-design="1"] .icon-opt{border-radius:8px}
html[data-design="1"] .icon-opt .ico{border-radius:10px;width:40px;height:40px;font-size:22px}
html[data-design="1"] #snack{
  border-radius:99px;font-size:13px;font-weight:600;bottom:88px;
  box-shadow:0 4px 20px rgba(0,0,0,.4);
}
html[data-design="1"] .badge{border-radius:99px}
html[data-design="1"] .theme-swatch{width:48px;height:48px}
html[data-design="1"] #debug-panel{border-top:none}
/* D1 topbar titles */
/* D1 titles via real h1 elements */

/* ══ DESIGN 2: MINIMALIST (DM Sans, lines, flat) — default active ═════════ */
html[data-design="2"] .nav-dot{display:none}
html[data-design="2"] .topbar h1{display:none}

/* ── SHARED FONT LOADS ── */

:root{
--bg:#0e0e0e;--bg2:#161616;--bg3:#1e1e1e;--bg4:#2a2a2a;--bg5:#333;
--acc:#e8e8e8;--acc2:#aaa;--acc-dim:rgba(232,232,232,.08);
--txt:#e8e8e8;--txt2:#888;--txt3:#444;
--danger:#c0392b;--warn:#b07d2a;--ok:#2d7a4f;
--rad:12px;--rad2:8px;--rad3:4px;
--trans:.15s ease;
--line:1px solid var(--bg4);
}
[data-theme="light"]{
--bg:#f5f5f5;--bg2:#ffffff;--bg3:#efefef;--bg4:#e0e0e0;--bg5:#d0d0d0;
--acc:#111;--acc2:#555;--acc-dim:rgba(0,0,0,.06);
--txt:#111;--txt2:#666;--txt3:#bbb;
--danger:#c0392b;--warn:#b07d2a;--ok:#2d7a4f;
--line:1px solid #e0e0e0;
}
[data-theme="aurora"]{
--bg:#09090f;--bg2:#0f0f1a;--bg3:#16162a;--bg4:#1e1e38;--bg5:#252545;
--acc:#b8a9f0;--acc2:#7b6dc0;--acc-dim:rgba(184,169,240,.08);
--txt:#e8e4ff;--txt2:#7070a0;--txt3:#363660;
}
[data-theme="sunset"]{
--bg:#100808;--bg2:#1a0f0f;--bg3:#241515;--bg4:#2e1b1b;--bg5:#382222;
--acc:#e8a87c;--acc2:#a06040;--acc-dim:rgba(232,168,124,.08);
--txt:#ffe8d8;--txt2:#806050;--txt3:#503830;
}
[data-theme="ocean"]{
--bg:#060d10;--bg2:#0c1820;--bg3:#102030;--bg4:#162a40;--bg5:#1c3450;
--acc:#7ac8d8;--acc2:#3a8090;--acc-dim:rgba(122,200,216,.08);
--txt:#d8f0f8;--txt2:#406878;--txt3:#204050;
}
[data-theme="forest"]{
--bg:#070d07;--bg2:#0d160d;--bg3:#121e12;--bg4:#182618;--bg5:#1e2e1e;
--acc:#7ac87a;--acc2:#3a783a;--acc-dim:rgba(122,200,122,.08);
--txt:#d8f0d8;--txt2:#406840;--txt3:#204020;
}
[data-theme="candy"]{
--bg:#0d080f;--bg2:#160f1a;--bg3:#1e1526;--bg4:#261b30;--bg5:#2e223a;
--acc:#d8a0d8;--acc2:#886088;--acc-dim:rgba(216,160,216,.08);
--txt:#f0d8f8;--txt2:#786088;--txt3:#403050;
}
[data-theme="lava"]{
--bg:#100600;--bg2:#1a0e00;--bg3:#241400;--bg4:#2e1c00;--bg5:#382400;
--acc:#e09060;--acc2:#905030;--acc-dim:rgba(224,144,96,.08);
--txt:#ffe8d0;--txt2:#806040;--txt3:#503820;
}

*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
html,body{height:100%;background:var(--bg);color:var(--txt);font-family:'DM Sans',sans-serif;overflow:hidden;font-size:14px}
body{display:flex;flex-direction:column;max-width:430px;margin:0 auto}

/* SCREENS */
#app{flex:1;overflow:hidden;position:relative}
.screen{position:absolute;inset:0;overflow-y:auto;overflow-x:hidden;padding:0 0 72px;opacity:0;pointer-events:none;transform:translateY(6px);transition:opacity var(--trans),transform var(--trans)}
.screen.active{opacity:1;pointer-events:all;transform:none}

/* TOPBAR */
.topbar{position:sticky;top:0;z-index:10;padding:20px 20px 14px;background:var(--bg);border-bottom:var(--line);display:flex;align-items:center;gap:10px}
.topbar h1{font-size:15px;font-weight:500;letter-spacing:.02em;flex:1;color:var(--txt)}
.topbar-label{font-size:12px;color:var(--txt3);font-weight:400;letter-spacing:.05em;text-transform:uppercase}
.topbar-btn{width:34px;height:34px;border-radius:var(--rad2);border:var(--line);background:none;color:var(--txt2);display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:14px;transition:background var(--trans)}
.topbar-btn:active{background:var(--bg3)}

/* BOTTOM NAV */
#nav{height:56px;background:var(--bg);border-top:var(--line);display:flex;align-items:stretch;flex-shrink:0}
.nav-item{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:3px;cursor:pointer;border:none;background:none;color:var(--txt3);transition:color var(--trans);position:relative;font-family:'DM Sans',sans-serif}
.nav-item.active{color:var(--txt)}
.nav-item svg{width:18px;height:18px}
.nav-item span{font-size:10px;font-weight:500;letter-spacing:.04em}
.nav-item.active::after{content:'';position:absolute;top:0;left:50%;transform:translateX(-50%);width:24px;height:1px;background:var(--acc)}

/* ROW / ITEM patterns */
.row{display:flex;align-items:center;padding:14px 20px;gap:12px;border-bottom:var(--line);transition:background var(--trans);cursor:pointer}
.row:active{background:var(--acc-dim)}
.row:last-child{border-bottom:none}
.row-label{font-size:14px;font-weight:400;flex:1;color:var(--txt)}
.row-sub{font-size:11px;color:var(--txt3);margin-top:1px}
.row-right{color:var(--txt3);font-size:12px;display:flex;align-items:center;gap:6px;flex-shrink:0}

/* SECTION */
.sec{margin:20px 20px 0;background:var(--bg2);border-radius:var(--rad);border:var(--line);overflow:hidden}
.sec-last{margin-bottom:20px}
.sec-title{font-size:10px;font-weight:500;letter-spacing:.1em;text-transform:uppercase;color:var(--txt3);padding:16px 20px 8px;margin:20px 0 0}

/* BADGE */
.badge{font-size:10px;padding:2px 7px;border-radius:3px;font-weight:500;letter-spacing:.03em}
.badge-req{background:rgba(192,57,43,.15);color:#e05a4a}
.badge-opt{background:rgba(176,125,42,.12);color:#b07d2a}
.badge-ok{background:rgba(45,122,79,.15);color:#2d7a4f}

/* CHIP */
.chip{display:inline-flex;align-items:center;gap:5px;padding:3px 10px;border-radius:3px;background:var(--bg3);border:var(--line);font-size:11px;color:var(--txt2);font-weight:500}
.chip.on{background:var(--acc-dim);border-color:color-mix(in srgb,var(--acc) 30%,transparent);color:var(--acc)}

/* TOGGLE */
.toggle{position:relative;width:40px;height:22px;flex-shrink:0}
.toggle input{opacity:0;width:0;height:0;position:absolute}
.toggle-track{position:absolute;inset:0;background:var(--bg4);border-radius:99px;cursor:pointer;transition:background var(--trans)}
.toggle input:checked+.toggle-track{background:var(--acc)}
.toggle-track::after{content:'';position:absolute;width:16px;height:16px;border-radius:50%;background:var(--bg2);top:3px;left:3px;transition:transform var(--trans)}
[data-theme="light"] .toggle-track::after{background:#fff}
.toggle input:checked+.toggle-track::after{transform:translateX(18px)}

/* DIVIDER */
.divider{height:1px;background:var(--bg4);margin:0}

/* FAB */
.fab{position:fixed;bottom:68px;right:20px;height:44px;padding:0 20px;border-radius:var(--rad2);background:var(--acc);border:none;color:var(--bg);font-size:13px;font-weight:600;display:flex;align-items:center;gap:6px;cursor:pointer;transition:transform var(--trans),opacity var(--trans);z-index:50;font-family:'DM Sans',sans-serif;letter-spacing:.02em}
.fab:active{transform:scale(.96)}
.fab.hidden{opacity:0;pointer-events:none;transform:translateY(8px)}

/* SHEET */
.sheet-overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:100;opacity:0;pointer-events:none;transition:opacity .2s}
.sheet-overlay.open{opacity:1;pointer-events:all}
.sheet{position:fixed;bottom:0;left:50%;transform:translateX(-50%) translateY(100%);width:100%;max-width:430px;background:var(--bg2);border-top:var(--line);z-index:101;transition:transform .28s cubic-bezier(.4,0,.2,1);max-height:90vh;display:flex;flex-direction:column}
.sheet-overlay.open .sheet{transform:translateX(-50%) translateY(0)}
.sheet-handle{width:28px;height:2px;border-radius:1px;background:var(--bg5);margin:12px auto 0;flex-shrink:0}
.sheet-header{padding:14px 20px 12px;display:flex;align-items:center;gap:10px;flex-shrink:0;border-bottom:var(--line)}
.sheet-header h2{flex:1;font-size:14px;font-weight:500;color:var(--txt)}
.sheet-close{width:28px;height:28px;border-radius:var(--rad3);border:var(--line);background:none;color:var(--txt2);cursor:pointer;font-size:14px;display:flex;align-items:center;justify-content:center}
.sheet-body{overflow-y:auto;flex:1}

/* FORMS */
.form-wrap{padding:16px 20px}
.form-label{font-size:10px;font-weight:500;letter-spacing:.08em;text-transform:uppercase;color:var(--txt3);margin-bottom:6px;display:flex;align-items:center}
.form-input{width:100%;background:var(--bg3);border:var(--line);border-radius:var(--rad3);color:var(--txt);font-family:'DM Sans',sans-serif;font-size:14px;padding:10px 12px;outline:none;transition:border-color var(--trans)}
.form-input:focus{border-color:var(--acc2)}
textarea.form-input{resize:none;line-height:1.55}
select.form-input{-webkit-appearance:none;appearance:none}

/* BTNS */
.btn{width:100%;padding:12px;border-radius:var(--rad2);border:none;font-family:'DM Sans',sans-serif;font-size:13px;font-weight:500;cursor:pointer;transition:opacity var(--trans),transform var(--trans);letter-spacing:.02em}
.btn:active{opacity:.7;transform:scale(.98)}
.btn-primary{background:var(--acc);color:var(--bg)}
.btn-danger{background:none;color:var(--danger);border:1px solid rgba(192,57,43,.25)}
.btn-ghost{background:none;color:var(--txt2);border:var(--line)}

/* APP LIST */
.app-item{display:flex;align-items:center;gap:12px;padding:11px 20px;border-bottom:var(--line);cursor:pointer;transition:background var(--trans)}
.app-item:last-child{border-bottom:none}
.app-item:active,.app-item.selected{background:var(--acc-dim)}
.app-icon-box{width:36px;height:36px;border-radius:var(--rad2);background:var(--bg3);display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;border:var(--line)}
.app-name{font-size:13px;font-weight:500;flex:1}
.app-pkg{font-size:10px;color:var(--txt3);margin-top:1px;font-family:'DM Mono',monospace}
.app-check{width:18px;height:18px;border-radius:3px;border:var(--line);display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all var(--trans);background:none}
.app-item.selected .app-check{background:var(--acc);border-color:var(--acc)}
.app-chk-svg{width:10px;height:10px;opacity:0;transition:opacity var(--trans)}
.app-item.selected .app-chk-svg{opacity:1}

/* SEARCH */
.search-wrap{padding:12px 20px;border-bottom:var(--line);display:flex;align-items:center;gap:8px;background:var(--bg)}
.search-wrap input{flex:1;background:none;border:none;outline:none;color:var(--txt);font-family:'DM Sans',sans-serif;font-size:13px}
.search-wrap svg{width:14px;height:14px;color:var(--txt3);flex-shrink:0}

/* STEP BAR */
.step-bar{display:flex;gap:4px;padding:14px 20px 0}
.step-dot{height:2px;border-radius:1px;background:var(--bg4);flex:1;transition:background .3s}
.step-dot.done{background:var(--acc)}

/* ICON GRID */
.icon-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:6px}
.icon-opt{display:flex;flex-direction:column;align-items:center;gap:3px;padding:8px 4px;border-radius:var(--rad3);cursor:pointer;transition:background var(--trans);border:1px solid transparent}
.icon-opt:active{background:var(--bg3)}
.icon-opt.sel{border-color:color-mix(in srgb,var(--acc) 40%,transparent);background:var(--acc-dim)}
.icon-opt .ico{width:36px;height:36px;border-radius:var(--rad3);display:flex;align-items:center;justify-content:center;font-size:18px;background:var(--bg3)}
.icon-opt span{font-size:9px;color:var(--txt3);text-align:center;line-height:1.2}

/* ROUTINE CARD */
.rcard{display:flex;align-items:center;gap:12px;padding:14px 20px;border-bottom:var(--line);cursor:pointer;transition:background var(--trans)}
.rcard:last-child{border-bottom:none}
.rcard:active{background:var(--acc-dim)}
.rcard-icon{width:36px;height:36px;border-radius:var(--rad2);background:var(--bg3);display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;border:var(--line);overflow:hidden}
.rcard-name{font-size:13px;font-weight:500;color:var(--txt)}
.rcard-sub{font-size:11px;color:var(--txt3);margin-top:2px}
.rcard-meta{display:flex;align-items:center;gap:6px;margin-top:5px;flex-wrap:wrap}

/* THEME SWATCH */
.theme-swatch{width:40px;height:40px;border-radius:50%;cursor:pointer;transition:transform var(--trans);border:2px solid transparent;position:relative;overflow:hidden}
.theme-swatch.active{border-color:var(--acc);transform:scale(1.1)}

/* EMPTY */
.empty{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;padding:60px 24px;color:var(--txt3);text-align:center}
.empty svg{width:40px;height:40px;opacity:.2}
.empty p{font-size:13px;line-height:1.65}

/* SCROLLBAR */
::-webkit-scrollbar{width:2px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:var(--bg5);border-radius:99px}

/* SNACK */
#snack{position:fixed;bottom:68px;left:50%;transform:translateX(-50%) translateY(120%);background:var(--bg2);border:var(--line);color:var(--txt);padding:9px 18px;border-radius:var(--rad2);font-size:12px;font-weight:500;z-index:200;transition:transform .25s;white-space:nowrap;pointer-events:none;letter-spacing:.02em}
#snack.show{transform:translateX(-50%) translateY(0)}

/* DEBUG */
#debug-panel{position:fixed;inset:0;background:var(--bg);z-index:300;display:none;flex-direction:column;border-top:var(--line)}
#debug-panel.open{display:flex}
#debug-log{flex:1;overflow-y:auto;padding:12px;font-family:'DM Mono',monospace;font-size:11px;line-height:1.7;color:var(--txt2)}
.dlog-err{color:var(--danger)}.dlog-warn{color:var(--warn)}.dlog-info{color:var(--acc)}.dlog-log{color:var(--txt3)}

/* CHECK UTILITY */
.chk-row{display:flex;align-items:center;gap:10px;padding:13px 20px;border-bottom:var(--line);cursor:pointer}
.chk-row:last-child{border-bottom:none}
.chk-row input[type=checkbox]{width:16px;height:16px;accent-color:var(--acc);cursor:pointer;flex-shrink:0}
.chk-row input[type=radio]{width:16px;height:16px;accent-color:var(--acc);cursor:pointer;flex-shrink:0}
</head>
